# Процедуры и функции общего назначения БСП и типовых конфигураций

## БСП

### Версия БСП

```bsl

	СтандартныеПодсистемыСервер.СтандартныеПодсистемыСервер(); ->
		СтандартныеПодсистемыПовтИсп.ОписанияПодсистем(); ->
			ОбновлениеИнформационнойБазыБСП.ПриДобавленииПодсистемы(Описание);
			
Процедура ВыполнитьОперацию()
	Попытка
		ВыполнитьОперациюНаСервере();
	Исключение
		ТекстСообщения = КраткоеПредставлениеОшибки(ИнформацияОбОшибке());
		ПоказатьПредупреждение(,НСтр("ru = 'Операция не может быть выполнена по причине:'") + Символы.ПС + ТекстСообщения);
	КонецПопытки;
КонецПроцедуры
			
```

### Заполнение общих параметров

	ИнтеграцияПодсистемБСП.ПриДобавленииПараметровРаботыКлиента();

### Модуль **ОбщегоНазначенияПереопределяемый**

Минимальная версия платформы

	Процедура ПриОпределенииОбщихПараметровБазовойФункциональности(ОбщиеПараметры) Экспорт
		ОбщиеПараметры.Вставить("МинимальноНеобходимаяВерсияПлатформы", "8.3.6.2076");
		ОбщиеПараметры.Вставить("РаботаВПрограммеЗапрещена", Истина);
		ОбщиеПараметры.Вставить("РекомендуемыйОбъемОперативнойПамяти", 3);
	КонецПроцедуры

### Модуль **ОбщегоНазначения**

	ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Ссылка, ИмяРеквизита, ВыбратьРазрешенные = Ложь);
	ОбщегоНазначения.КоллекцииИдентичны(КоллекцияСтрок1, КоллекцияСтрок2, Знач ИменаКолонок = "", Знач ИсключаяКолонки = "", УчитыватьПоследовательностьСтрок = Ложь);
	ОбщегоНазначения.ПроверитьВыводТабличногоДокумента(ТабличныйДокумент, ВыводимыеОбласти);
	ОбщегоНазначения.МенеджерОбъектаПоСсылке(ВерсияСоглашенияСсылка);

### Модуль **ОбщегоНазначенияКлиентСервер**

	ОбщегоНазначенияКлиентСервер.СкопироватьСтруктуру(СтруктураИсточник);
	ОбщегоНазначенияКлиентСервер.КлючиСтруктурыВСтроку(КлючиСтруктурыВСтроку(Структура, Разделитель = ","));
	ОбщегоНазначенияКлиентСервер.СвойствоСтруктуры(Структура, Ключ, ЗначениеПоУмолчанию = Неопределено);
	ОбщегоНазначенияКлиентСервер.ДополнитьМассив(МассивПриемник, МассивИсточник, ТолькоУникальныеЗначения = Ложь);
	ОбщегоНазначенияКлиентСервер.ДополнитьСтруктуру(Приемник, Источник, Заменять = Неопределено);
	ОбщегоНазначенияКлиентСервер.СообщитьПользователю(ТекстОшибки,,Поле);
	ОбщегоНазначенияКлиентСервер.СообщитьОшибкиПользователю(СписокОшибок);
	ОбщегоНазначенияКлиентСервер.ИзменитьЭлементыОтбора(ПлатежныеДокументы.КомпоновщикНастроек.Настройки.Отбор,, "Тип списания", ЗначенияОтборов.ТипСписания, ВидСравненияКомпоновкиДанных.Равно);
	ОбщегоНазначенияКлиентСервер.УстановитьСвойствоЭлементаФормы(Элементы, "Организация", "ТолькоПросмотр", Истина);
	ОбщегоНазначенияКлиентСервер.ЕстьРеквизитИлиСвойствоОбъекта(Форма, "Объект");

### Модуль **СтроковыеФункцииКлиентСервер**

	СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(НСтр("ru = 'Неизвестный тип подключения: %1.'"), ПараметрыАдминистрирования.ТипПодключения);

### Модуль **ПрефиксацияОбъектовКлиентСервер**

	ПрефиксацияОбъектовКлиентСервер.НомерНаПечать(Знач НомерОбъекта, УдалитьПрефиксИнформационнойБазы = Ложь, УдалитьПользовательскийПрефикс = Ложь);

### Модуль **ПользователиПереопределяемый**

Позволяет указать роли, назначение которых будет контролироваться особым образом.

	ПользователиПереопределяемый.ПриОпределенииНазначенияРолей(НазначениеРолей);
	
## Команды запуска

	/c ЗапуститьОбновлениеИнформационнойБазы
	/ClearCache

## УХ

### Работа с договорами

	РегистрыСведений.СвязанныеДоговоры.ПолучитьВстречныйДоговор(ДанныеЗаполнения.ДоговорКонтрагента);
	ДоговорыКонтрагентовФормыУХКлиентСервер.УправлениеФормойВерсияСоглашения(ЭтотОбъект);

### Отражение факта

	ДвиженияБюджетированиеУХ.ОтразитьФактическоеДвижениеПоБюджетамПоПредопределенномуПравилу(Источник,Отказ);
	ФинансовыеИнструменты.ЗагрузитьФактическиеДанные(Объект);

### Процессы

	ОбщийМодуль.МодульУправленияПроцессамиУХ.Модуль.ОпределитьСостояние()

### Общего назначения

	ОбщегоНазначенияУХ.СообщитьОбОшибке("Не удалось создать или обновить связанный документ Подтверждение о согласовании условий займа:
	|"+ПодробноеПредставлениеОшибки(ИнформацияОбОшибке()),,,СтатусСообщения.Внимание);

	Элементы = Новый Массив;
	Элементы.Добавить(Элементы.ГрафикПроцентыУплаченоКорректировка);
	ФинансовыеИнструментыФормыКлиентСервер.УстановитьВидимостьЭлементов(Элементы, Истина);

### Модуль **ИнтеграцияС1СДокументооборот**

	ИнтеграцияС1СДокументооборот.СсылкаИзUUID(Тип, UUID)

## Бухгалтерия предприятия

### Модуль **СписаниеСРасчетногоСчетаФормыКлиентСервер**

	СписаниеСРасчетногоСчетаФормыКлиентСервер.УправлениеФормой(Форма)

### Реквизиты организаций, контрагентов

	СведенияОбОрганизации   = БухгалтерскийУчетПереопределяемый.СведенияОЮрФизЛице(Шапка.Организация, Шапка.Дата);
	ПредставлениеПоставщика = ОбщегоНазначенияБПВызовСервера.ОписаниеОрганизации(СведенияОбОрганизации, "НаименованиеДляПечатныхФорм,");
	БухгалтерскийУчетПереопределяемый.ПолучитьБанковскийСчетПоУмолчанию(ЮрФизЛицо, Валюта = Неопределено);

### Реквизиты физлиц

	ОбщегоНазначенияБПВызовСервера.ДанныеФизЛица(Организация, ФизЛицо, ДатаСреза, ФИОКратко = Истина);
	УчетЗарплаты.ДанныеФизическихЛиц(Организация = Неопределено, ФизическиеЛица, ДатаСреза, ФИОКратко = Истина, РезультатТаблично = Ложь);

	УчетЗарплаты.ПредставлениеФизическогоЛица(ФизическоеЛицо, ДатаСреза);

### Номенклатура

	БухгалтерскийУчетПереопределяемый.ПолучитьСведенияОСпискеНоменклатуры(МассивНоменклатуры, ДанныеОбъекта, Истина, Истина);

### Модуль **ОбщегоНазначенияБЗК**

	ОбщегоНазначенияБЗК.МенеджерОбъектаПоТипу();
